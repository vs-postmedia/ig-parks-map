{"version":3,"sources":["images sync /^/.//.*$","images/alicelake-00.jpg","images/brandywinefalls-12034135.jpg","images/brandywinefalls-19719473.jpg","images/bridalveilfallsprovincialpark-1445723902.jpg","images/chilliwacklake-1680602805.jpg","images/cultuslake-419800044.jpg","images/cypressprovincialpark-173620398.jpg","images/garibaldilake-27193595.jpg","images/goldenears-50179740.jpg","images/goldstream-6179902738.jpg","images/joffreelakes-00.jpg","images/manningpark-1605100114.jpg","images/mountseymour-50179740.jpg","images/murrinpark-263182075.jpg","images/narinfalls-2010738333.jpg","images/porteaucove-15521351.jpg","images/rathtrevorbeach-12068979.jpg","images/shannonfalls-00.jpg","images/stawamuschief-27193595.jpg","components/MapboxGLLayer/MapboxGLLayer.js","components/NumberIcon/NumberIcon.js","components/MapTooltip/MapTooltip.js","components/MapMarker/MapMarker.js","components/CircleMap/CircleMap.js","data/mapbox-token.js","components/Map/Map.js","components/App/App.js","serviceWorker.js","index.js"],"names":["map","./alicelake-00.jpg","./brandywinefalls-12034135.jpg","./brandywinefalls-19719473.jpg","./bridalveilfallsprovincialpark-1445723902.jpg","./chilliwacklake-1680602805.jpg","./cultuslake-419800044.jpg","./cypressprovincialpark-173620398.jpg","./garibaldilake-27193595.jpg","./goldenears-50179740.jpg","./goldstream-6179902738.jpg","./joffreelakes-00.jpg","./manningpark-1605100114.jpg","./mountseymour-50179740.jpg","./murrinpark-263182075.jpg","./narinfalls-2010738333.jpg","./porteaucove-15521351.jpg","./rathtrevorbeach-12068979.jpg","./shannonfalls-00.jpg","./stawamuschief-27193595.jpg","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","p","MapBoxGLLayer","props","L","mapboxGL","GridLayer","propTypes","accessToken","PropTypes","string","isRequired","style","defaultProps","withLeaflet","SVGIconComponent","text","this","radius","diameter","transform","concat","width","react_default","a","createElement","height","viewBox","aria-labelledby","role","className","cx","cy","r","textAnchor","x","xpos","y","ypos","Component","numberWithCommas","toString","replace","MapTooltip","img","data","images","require","rating","image","src","alt","park_name","Tooltip","opacity","attendance","Math","ceil","key","img_user_id","MapMarker","order","customIcon","NumberIcon_SVGIconComponent","group","numberIcon","divIcon","html","ReactDOMServer","renderToString","Marker","position","lat","lon","icon","components_MapTooltip_MapTooltip","CircleMap","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","es_Map","center","zoom","MapboxGLLayer","attribution","points","d","components_MapMarker_MapMarker","hashtag","Map","_getPrototypeOf2","_this","_len","length","args","Array","_key","call","state","radiusKey","map_defaults","maxZoom","minZoom","scaleLinear","max","_getMax","mapPoints","_scale","domain","range","setState","_prepareData","reduce","prev","current","_this2","forEach","params","get","parseFloat","parseInt","components_CircleMap_CircleMap","circleMarkerClassField","classField","tiles","URLSearchParams","window","location","search","App","components_Map_Map","Boolean","hostname","match","ReactDOM","render","components_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c1bef478.chunk.js","sourcesContent":["var map = {\n\t\"./alicelake-00.jpg\": 42,\n\t\"./brandywinefalls-12034135.jpg\": 43,\n\t\"./brandywinefalls-19719473.jpg\": 44,\n\t\"./bridalveilfallsprovincialpark-1445723902.jpg\": 45,\n\t\"./chilliwacklake-1680602805.jpg\": 46,\n\t\"./cultuslake-419800044.jpg\": 47,\n\t\"./cypressprovincialpark-173620398.jpg\": 48,\n\t\"./garibaldilake-27193595.jpg\": 49,\n\t\"./goldenears-50179740.jpg\": 50,\n\t\"./goldstream-6179902738.jpg\": 51,\n\t\"./joffreelakes-00.jpg\": 52,\n\t\"./manningpark-1605100114.jpg\": 53,\n\t\"./mountseymour-50179740.jpg\": 54,\n\t\"./murrinpark-263182075.jpg\": 55,\n\t\"./narinfalls-2010738333.jpg\": 56,\n\t\"./porteaucove-15521351.jpg\": 57,\n\t\"./rathtrevorbeach-12068979.jpg\": 58,\n\t\"./shannonfalls-00.jpg\": 59,\n\t\"./stawamuschief-27193595.jpg\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 41;","module.exports = __webpack_public_path__ + \"static/media/alicelake-00.c587dab4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/brandywinefalls-12034135.2c002b94.jpg\";","module.exports = __webpack_public_path__ + \"static/media/brandywinefalls-19719473.9327b367.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bridalveilfallsprovincialpark-1445723902.57b8431d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/chilliwacklake-1680602805.1d05156f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cultuslake-419800044.8acd0806.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cypressprovincialpark-173620398.22dc3e73.jpg\";","module.exports = __webpack_public_path__ + \"static/media/garibaldilake-27193595.df74bce3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/goldenears-50179740.6fd3bc19.jpg\";","module.exports = __webpack_public_path__ + \"static/media/goldstream-6179902738.d3f941fc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/joffreelakes-00.b6edd815.jpg\";","module.exports = __webpack_public_path__ + \"static/media/manningpark-1605100114.e948c4f8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mountseymour-50179740.0e3992ea.jpg\";","module.exports = __webpack_public_path__ + \"static/media/murrinpark-263182075.de6636f3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/narinfalls-2010738333.096d9eea.jpg\";","module.exports = __webpack_public_path__ + \"static/media/porteaucove-15521351.11fa524a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/rathtrevorbeach-12068979.46414e81.jpg\";","module.exports = __webpack_public_path__ + \"static/media/shannonfalls-00.2126e7a7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/stawamuschief-27193595.093cc89a.jpg\";","import L from \"leaflet\";\nimport {} from \"mapbox-gl-leaflet\";\nimport PropTypes from \"prop-types\";\nimport { GridLayer, withLeaflet } from \"react-leaflet\";\n\nclass MapBoxGLLayer extends GridLayer {\n\tcreateLeafletElement(props) {\n\t\treturn L.mapboxGL(props);\n\t}\n}\n\n/*\n* Props are the options supported by Mapbox Map object\n* Find options here:https://www.mapbox.com/mapbox-gl-js/api/#new-mapboxgl-map-options-\n*/\nMapBoxGLLayer.propTypes = {\n\taccessToken: PropTypes.string.isRequired,\n\tstyle: PropTypes.string\n};\n\nMapBoxGLLayer.defaultProps = {\n\tstyle: \"mapbox://styles/mapbox/streets-v11\"\n};\n\nexport default withLeaflet(MapBoxGLLayer);   ","// https://medium.com/@nikjohn/creating-a-dynamic-jsx-marker-with-react-leaflet-f75fff2ddb9\n\nimport React, {Component} from 'react';\nimport './NumberIcon.css';\n\nexport default class SVGIconComponent extends Component {\n\trender() {\n\t\tconst text = this.props.text || 0;\n\t\tconst radius = this.props.radius || 5;\n\t\tconst diameter = this.props.radius * 2 || 10;\n\n\t\tconst style = {\n\t\t\t// transform: `translate(-${radius / 2}px, -${radius / 2}px)`\n\t\t\ttransform: `translate(-${this.props.width / 2}px, -${radius / 2}px)`\n\t\t}\n\t\treturn (\n\t\t\t<svg style={style}\n\t\t\t\t// width={`${radius}px`} \n\t\t\t\twidth={this.props.width}\n\t\t\t\theight={`${radius}px`} \n\t\t\t\tviewBox={`0 0 ${diameter} ${diameter}`} aria-labelledby=\"circle\" role=\"img\">\n\t\t\t\t<circle className={this.props.className} \n\t\t\t\t\tcx={radius} cy={radius}\n\t\t\t\t\tr={this.props.radius}\n\t\t\t\t\trole=\"presentation\">\n\t\t\t\t</circle>\n\t\t\t\t<g className=\"chart-text\"></g>\n\t\t\t\t<text className=\"chart-number\" \n\t\t\t\t\ttextAnchor=\"middle\"\n\t\t\t\t\tx={this.props.xpos} \n\t\t\t\t\ty={this.props.ypos}>\n\t\t\t\t\t\t{text}\n\t\t\t\t</text>\n\t\t\t</svg>\n\t\t);\n\t}\n}","import React from 'react';\nimport { Tooltip } from 'react-leaflet';\nimport './MapTooltip.css';\n\nconst MapTooltip = (props) => {\n\tlet img;\n\tconst data = props.data;\n\t// load folder of images\n\tconst images = require.context('../../images', true);\n\t// set background colour of rating based on rating value\n\tconst className = setBackgroundColor(data.rating);\n\t\n\t// set tooltip image\n\tif (data.image) {\n\t\timg = <img src={images(`./${data.image}`)} \n\t\t\tclassName='tooltip-image' \n\t\t\talt={`${data.park_name}`}/>\n\t} else {\n\t\timg = null;\n\t}\n\t\n\treturn (\n\t\t<Tooltip className='tooltip' opacity='1'>\n\t\t\t<header>\n\t\t\t\t<h2 className='name'>{data.park_name.replace(/ Park/, '')}</h2>\n\t\t\t\t<div className={`rating-background ${className}`}>\n\t\t\t\t\t<h2 className='rating'>{data.rating}</h2>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t{img}\n\t\t\t<h3>2018 Stats</h3>\n\t\t\t<p>{`Attendance: ${numberWithCommas(data.attendance)}`}</p>\n\t\t\t<p>{`Instagram likes per thousand visitors (est.): ${numberWithCommas(Math.ceil(data[data.key] / 100) * 100)}`}</p>\n\t\t\t\n\n\t\t\t<p className='grey02 footer'>{`Photo from ${data.img_user_id}, via Instagram`}</p>\n\t\t</Tooltip>\n\t);\n}\n\nfunction setBackgroundColor(rating) {\n\tlet className;\n\tif (rating > 75) {\n\t\tclassName = 'green';\n\t} else if (rating <= 75 && rating > 65) {\n\t\tclassName = 'yellow';\n\t} else {\n\t\tclassName = 'red';\n\t}\n\n\treturn className;\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n}\n\nexport default MapTooltip;\n","// custom icon with number in centre\n// See: https://medium.com/@nikjohn/creating-a-dynamic-jsx-marker-with-react-leaflet-f75fff2ddb9\n\nimport React from 'react';\nimport L from 'leaflet';\nimport ReactDOMServer from 'react-dom/server';\nimport NumberIcon from '../NumberIcon/NumberIcon';\nimport { Marker } from 'react-leaflet';\nimport MapTooltip from '../MapTooltip/MapTooltip';\nimport './MapMarker.css';\n\nconst MapMarker = (props) => {\n\tconst data = props.data;\n\n\t// adjust xposition for text depending on number of digits\n\tconst xpos = data.order > 9 ? '18%' : '50%';\n\tconst ypos = '69%';\n\n\tconst customIcon = <NumberIcon \n\t\t// text={Math.round(data[data.key])}\n\t\ttext={data.park_name.replace(/ Park/g, '')}\n\t\tclassName={data.group || 'circle'} \n\t\tradius={data.radius}\n\t\twidth={'120'} // in px wide enough to let text flow outside circle\n\t\txpos={xpos} ypos={ypos}/>\n\n\tconst numberIcon = new L.divIcon({\n\t\tclassName: 'custom-icon',\n\t\thtml: ReactDOMServer.renderToString(customIcon)\n\t});\n\n\treturn (\n\t\t<Marker\n\t\t\tposition={[data.lat, data.lon]}\n\t\t\ticon={numberIcon}>\n\t\t\t<MapTooltip data={data}></MapTooltip>\n         </Marker>\n\t);\n}\n\nexport default MapMarker;\n\n","import React, { Component } from 'react';\nimport { Map } from 'react-leaflet';\nimport MapboxGLLayer from '../MapboxGLLayer/MapboxGLLayer';\nimport MapMarker from '../MapMarker/MapMarker';\n\nimport './CircleMap.css';\nimport 'leaflet/dist/leaflet.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport MAPBOX_TOKEN from '../../data/mapbox-token';\n\n\nexport class CircleMap extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Map \n\t\t\t\tcenter={this.props.center} \n\t\t\t\tzoom={this.props.zoom} >\n\t\t\n\t\t\t\t<MapboxGLLayer\n\t\t\t\t\taccessToken={MAPBOX_TOKEN}\n\t\t\t\t\tattribution={this.props.attribution}\n\t\t\t\t\tstyle={this.props.style} />\n\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.points.map(d => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MapMarker data={d} key={d.hashtag}></MapMarker>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t</Map>\n\t\t);\n\t}\n}\n\n\nexport default CircleMap;\n\n/*\n<MapboxGLLayer\n\taccessToken={MAPBOX_TOKEN}\n\tstyle='mapbox://styles/mapbox/streets-v9'/>\n\n<TileLayer url={this.props.tiles} \n\tattribution={this.props.attribution} \n\tmaxZoom={this.props.maxZoom}\n\tminZoom={this.props.minZoom}/>\n\n*/","const MAPBOX_TOKEN = 'pk.eyJ1IjoibmdyaWZmaXRocy1wb3N0bWVkaWEiLCJhIjoiY2p4Z2ZocWdtMHV0MTQwcGc0NGd2azkyNCJ9.uysWCYIQeL8VfccMNIqUNQ';\n\nexport default MAPBOX_TOKEN;","import { scaleLinear } from 'd3-scale';\nimport React, { Component } from 'react';\nimport CircleMap from '../CircleMap/CircleMap';\n\n// data –> might want to load this via ajax if it's large\nimport mapPoints from '../../data/map-data.json';\n\n// map tiles & attribution\nconst map_url = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\nconst attribution = '&copy;<a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors';\n\n\n\nexport class Map extends Component {\n\tstate = {\n\t\tdata: [],\n\t\tradiusKey: 'likes_rate_1k'\n\t}\n\n\tmap_defaults = {\n\t\tlat: 49.81,\n\t\tlon: -122.952182,\n\t\tmaxZoom: 18,\n\t\tminZoom: 12,\n\t\tstyle: 'mapbox://styles/mapbox/basic-v8',\n\t\t// style: 'mapbox://styles/mapbox/light-v11',\n\t\tzoom: 9\n\t}\n\n\t_scaleData(d) {\n\t\treturn scaleLinear()\n\t}\n\n\tcomponentDidMount() {\n\t\tconst key = this.state.radiusKey;\n\t\tconst max = this._getMax(mapPoints, key);\n\n\t\tthis._scale = scaleLinear()\n\t\t\t.domain([0, max[key]])\n\t\t\t.range([25, 150]);\n\n\t\tthis.setState({\n\t\t\tdata: this._prepareData(mapPoints)\n\t\t});\n\t}\n\n\t_getMax(data, key) {\n\t\treturn data.reduce((prev, current) => { \n\t\t\treturn (current[key] > prev[key]) ? current : prev;\n\t\t});\n\t}\n\n\t_prepareData(data) {\n\t\tdata.forEach(d => {\n\t\t\td.radius = this._scale(d[this.state.radiusKey]);\n\t\t\td.key = this.state.radiusKey\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\n\trender() {\n\t\tconst params = this.props.params\n\t\tconst lat = params.get('lat') ? parseFloat(params.get('lat')) : this.map_defaults.lat;\n\t\tconst lon = params.get('lon') ? parseFloat(params.get('lon')) : this.map_defaults.lon;\n\t\tconst maxZoom = params.get('maxZoom') ? parseInt(params.get('maxZoom')) : this.map_defaults.maxZoom;\n\t\tconst minZoom = params.get('minZoom') ? parseInt(params.get('minZoom')) : this.map_defaults.minZoom;\n\t\tconst zoom = params.get('zoom') ? parseInt(params.get('zoom')) : this.map_defaults.zoom;\n\t\t\n\n\n\t\treturn (\n\t\t\t<CircleMap \n\t\t\t\tattribution={attribution}\n\t\t\t\tcenter={[lat, lon]}\n\t\t\t\tcircleMarkerClassField={this.map_defaults.classField}\n\t\t\t\tmaxZoom={maxZoom}\n\t\t\t\tminZoom={minZoom}\n\t\t\t\tpoints={this.state.data}\n\t\t\t\tstyle={this.map_defaults.style}\n\t\t\t\ttiles={map_url}\n\t\t\t\tzoom={zoom}>\n\t\t\t</CircleMap>\n\t\t);\n\t}\n}\n\nexport default Map;","import React from 'react';\nimport Map from '../Map/Map';\nimport './App.css';\n\n\n// get lat/lon/zoom params from the URL\nconst params = new URLSearchParams(window.location.search);\n\n\nfunction App() {\n\treturn (\n\t  \t<div className=\"App\">\n\t  \t\t<h1>Southwest B.C.’s most Instagrammed parks</h1>\n\t  \t\t<Map params={params}></Map>\n\t  \t\t<p className=\"footer\">Note: Parks were selected based on location and a minumium number of visitors per year. Blackcomb, Cypress and Goldstream parks were excluded because 2018 attendance figures were not available.</p>\n\t  \t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\n// CSS\nimport './css/index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}